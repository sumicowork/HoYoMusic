# 主题系统快速测试指南

## 测试步骤

### 1. 启动应用
```bash
cd frontend
npm run dev
```

### 2. 测试主题切换

#### 在首页测试
1. 打开浏览器访问 `http://localhost:5173`
2. 在顶部导航栏找到灯泡图标的开关
3. 点击开关切换主题
4. **预期效果**:
   - 背景色从深色变浅色（或反之）
   - 文字颜色自动适配
   - 卡片样式变化
   - 切换流畅，有0.3秒过渡动画

#### 在管理后台测试
1. 访问 `http://localhost:5173/admin/login`
2. 登录后进入管理后台
3. 查看左侧边栏底部的主题切换区域
4. 点击开关切换主题
5. **预期效果**:
   - 侧边栏颜色变化（深色↔浅色）
   - 主内容区背景色变化
   - 表格、按钮等所有组件适配新主题
   - 显示"深色模式"或"浅色模式"文字

### 3. 测试主题持久化

1. 切换到浅色主题
2. 刷新页面 (F5)
3. **预期效果**: 保持浅色主题，不会恢复到深色

4. 切换到深色主题
5. 关闭浏览器标签页
6. 重新打开网站
7. **预期效果**: 依然是深色主题

### 4. 测试跨页面主题

1. 在首页切换到浅色主题
2. 点击进入"专辑"页面
3. **预期效果**: 专辑页面也是浅色主题

4. 再进入某个专辑详情页
5. **预期效果**: 详情页也保持浅色主题

### 5. 测试播放器主题

1. 播放任意一首歌曲
2. 底部播放器出现
3. 切换主题
4. **预期效果**:
   - 播放器背景色变化
   - 文字颜色适配
   - 控制按钮颜色适配
   - 进度条颜色变化

## 验证要点

### 深色主题 (默认)
- ✅ 背景色: 深黑色 (#141414)
- ✅ 卡片: 深灰色 (#1f1f1f)
- ✅ 文字: 白色 (85%透明度)
- ✅ 边框: 深灰 (#434343)
- ✅ 侧边栏: 深蓝黑 (#001529)

### 浅色主题
- ✅ 背景色: 纯白 (#ffffff)
- ✅ 卡片: 白色 (#ffffff)
- ✅ 文字: 黑色 (88%透明度)
- ✅ 边框: 浅灰 (#d9d9d9)
- ✅ 侧边栏: 白色 + 边框

### 动画效果
- ✅ 切换时有0.3秒渐变过渡
- ✅ 不闪烁，平滑切换
- ✅ 所有元素同步变化

## 常见问题排查

### 问题1: 主题不切换
**检查**: 打开浏览器开发者工具 (F12)
- 查看Console是否有错误
- 查看HTML的data-theme属性是否改变
- 查看localStorage中是否有theme-storage

### 问题2: 刷新后主题丢失
**检查**: 
- localStorage是否被禁用
- 浏览器隐私模式是否阻止存储

### 问题3: 某些组件样式不对
**检查**:
- 查看该组件是否使用CSS变量
- 查看是否有硬编码的颜色值

### 问题4: 切换卡顿
**检查**:
- 浏览器性能
- 是否有大量动画同时进行
- 网络请求是否阻塞

## 成功标准

所有以下项目都应该正常工作：
- [x] 主题切换按钮显示
- [x] 点击后主题立即切换
- [x] 所有页面主题一致
- [x] 刷新后主题保持
- [x] 跨页面主题保持
- [x] 动画流畅
- [x] 所有组件适配
- [x] 无控制台错误

如果以上都正常，主题系统实现成功！✅

